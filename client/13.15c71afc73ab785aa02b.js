(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1458:function(e,t){},1461:function(e,t){},2471:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(286),s=a(96),l=function(e){return e&&e.__esModule?e:{default:e}}(a(2472));t.default=(0,r.connect)(function(e){var t=(0,s.getConfig)(e);return{siteName:t.SiteName,asymmetricSigningPublicKey:t.AsymmetricSigningPublicKey}})(l.default)},2472:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_(a(282)),s=_(a(281)),l=_(a(285)),o=_(a(283)),n=_(a(284)),u=_(a(1441)),i=_(a(1)),d=_(a(3)),c=a(766),f=a(287),m=a(22),g=a(765),E=_(a(2543)),p=_(a(2544));function _(e){return e&&e.__esModule?e:{default:e}}var M=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,n.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){document.body.setAttribute("class","sticky error")}},{key:"componentWillUnmount",value:function(){document.body.removeAttribute("class")}},{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search),t=e.get("s"),a=!1;if(t){e.delete("s");var r="-----BEGIN PUBLIC KEY-----\n"+this.props.asymmetricSigningPublicKey+"\n-----END PUBLIC KEY-----",s=u.default.createVerify("sha256");s.update("/error?"+e.toString()),a=s.verify(r,t,"base64")}var l=e.get("type"),o=a&&e.get("title")||"",n=a&&e.get("message")||"",i=a&&e.get("service")||"",_=a&&e.get("returnTo")||"",M=void 0;return M=l===m.ErrorPageTypes.PERMALINK_NOT_FOUND&&_?d.default.createElement(f.Link,{to:_},d.default.createElement(c.FormattedMessage,{id:"error.generic.link",defaultMessage:"Back to Mattermost"})):l===m.ErrorPageTypes.TEAM_NOT_FOUND?d.default.createElement(f.Link,{to:"/"},d.default.createElement(c.FormattedMessage,{id:"error.generic.link",defaultMessage:"Back to {siteName}",values:{siteName:this.props.siteName}})):l===m.ErrorPageTypes.CHANNEL_NOT_FOUND?d.default.createElement(f.Link,{to:e.get("returnTo")},d.default.createElement(c.FormattedMessage,{id:"error.channelNotFound.link",defaultMessage:"Back to {defaultChannelName}",values:{defaultChannelName:m.Constants.DEFAULT_CHANNEL_UI_NAME}})):l===m.ErrorPageTypes.OAUTH_ACCESS_DENIED||l===m.ErrorPageTypes.OAUTH_MISSING_CODE?d.default.createElement(f.Link,{to:"/"},d.default.createElement(c.FormattedMessage,{id:"error.generic.link_login",defaultMessage:"Back to login page"})):d.default.createElement(f.Link,{to:"/"},d.default.createElement(c.FormattedMessage,{id:"error.generic.link",defaultMessage:"Back to {siteName}",values:{siteName:this.props.siteName}})),d.default.createElement("div",{className:"container-fluid"},d.default.createElement("div",{className:"error__container"},d.default.createElement("div",{className:"error__icon"},d.default.createElement("i",{className:"fa fa-exclamation-triangle",title:(0,g.localizeMessage)("generic_icons.warning","Warning Icon")})),d.default.createElement("h2",null,d.default.createElement(E.default,{type:l,title:o})),d.default.createElement(p.default,{type:l,message:n,service:i}),M))}}]),t}(d.default.PureComponent);M.propTypes={location:i.default.object.isRequired,asymmetricSigningPublicKey:i.default.string,siteName:i.default.string},t.default=M},2543:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=u(a(1)),s=u(a(3)),l=a(766),o=a(22),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(765));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.type,a=e.title,r=null;if(t)switch(t){case o.ErrorPageTypes.LOCAL_STORAGE:r=s.default.createElement(l.FormattedMessage,{id:"error.local_storage.title",defaultMessage:"Cannot Load Mattermost"});break;case o.ErrorPageTypes.PERMALINK_NOT_FOUND:r=s.default.createElement(l.FormattedMessage,{id:"permalink.error.title",defaultMessage:"Message Not Found"});break;case o.ErrorPageTypes.OAUTH_ACCESS_DENIED:r=s.default.createElement(l.FormattedMessage,{id:"error.oauth_access_denied.title",defaultMessage:"Authorization Error"});break;case o.ErrorPageTypes.OAUTH_MISSING_CODE:r=s.default.createElement(l.FormattedMessage,{id:"error.oauth_missing_code.title",defaultMessage:"Mattermost needs your help"});break;case o.ErrorPageTypes.TEAM_NOT_FOUND:r=s.default.createElement(l.FormattedMessage,{id:"error.team_not_found.title",defaultMessage:"Team Not Found"});break;case o.ErrorPageTypes.CHANNEL_NOT_FOUND:r=s.default.createElement(l.FormattedMessage,{id:"error.channel_not_found.title",defaultMessage:"Channel Not Found"});break;case o.ErrorPageTypes.PAGE_NOT_FOUND:default:r=s.default.createElement(l.FormattedMessage,{id:"error.not_found.title",defaultMessage:"Page Not Found"})}else r=a||n.localizeMessage("error.generic.title","Error");return r}i.propTypes={type:r.default.string,title:r.default.string}},2544:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=i(a(1)),s=i(a(3)),l=a(766),o=a(22),n=a(288),u=i(a(2545));function i(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.type,a=e.message,r=e.service,i=null;if(t)switch(t){case o.ErrorPageTypes.LOCAL_STORAGE:i=s.default.createElement("div",null,s.default.createElement(l.FormattedMessage,{id:"error.local_storage.message",defaultMessage:"Mattermost was unable to load because a setting in your browser prevents the use of its local storage features. To allow Mattermost to load, try the following actions:"}),s.default.createElement("ul",null,s.default.createElement("li",null,s.default.createElement(l.FormattedMessage,{id:"error.local_storage.help1",defaultMessage:"Enable cookies"})),s.default.createElement("li",null,s.default.createElement(l.FormattedMessage,{id:"error.local_storage.help2",defaultMessage:"Turn off private browsing"})),s.default.createElement("li",null,s.default.createElement(l.FormattedMessage,{id:"error.local_storage.help3",defaultMessage:"Use a supported browser (IE 11, Chrome 43+, Firefox 38+, Safari 9, Edge)"}))));break;case o.ErrorPageTypes.PERMALINK_NOT_FOUND:i=s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"permalink.error.access",defaultMessage:"Permalink belongs to a deleted message or to a channel to which you do not have access."}));break;case o.ErrorPageTypes.TEAM_NOT_FOUND:i=s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.team_not_found.message",defaultMessage:"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation."}));break;case o.ErrorPageTypes.CHANNEL_NOT_FOUND:i=s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.channel_not_found.message",defaultMessage:"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation."}));break;case o.ErrorPageTypes.OAUTH_MISSING_CODE:i=s.default.createElement("div",null,s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.oauth_missing_code",defaultMessage:"The service provider {service} did not provide an authorization code in the redirect URL.",values:{service:r}})),s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.oauth_missing_code.google",defaultMessage:"For {link} make sure your administrator enabled the Google+ API.",values:{link:s.default.createElement(u.default,{url:"https://docs.mattermost.com/deployment/sso-google.html",messageId:(0,n.t)("error.oauth_missing_code.google.link"),defaultMessage:"Google Apps"})}})),s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.oauth_missing_code.office365",defaultMessage:"For {link} make sure the administrator of your Microsoft organization has enabled the Mattermost app.",values:{link:s.default.createElement(u.default,{url:"https://docs.mattermost.com/deployment/sso-office.html",messageId:(0,n.t)("error.oauth_missing_code.office365.link"),defaultMessage:"Office 365"})}})),s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.oauth_missing_code.gitlab",defaultMessage:"For {link} please make sure you followed the setup instructions.",values:{link:s.default.createElement(u.default,{url:"https://docs.mattermost.com/deployment/sso-gitlab.html",messageId:(0,n.t)("error.oauth_missing_code.gitlab.link"),defaultMessage:"GitLab"})}})),s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.oauth_missing_code.forum",defaultMessage:"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we'll be happy to help with issues during setup.",values:{link:s.default.createElement(u.default,{url:"https://forum.mattermost.org/c/trouble-shoot",messageId:(0,n.t)("error.oauth_missing_code.forum.link"),defaultMessage:"Troubleshooting forum"})}})));break;case o.ErrorPageTypes.OAUTH_ACCESS_DENIED:i=s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.oauth_access_denied",defaultMessage:"You must authorize Mattermost to log in with {service}.",values:{service:r}}));break;case o.ErrorPageTypes.PAGE_NOT_FOUND:default:i=s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.not_found.message",defaultMessage:"The page you were trying to reach does not exist"}))}else i=a?s.default.createElement("p",null,a):s.default.createElement("p",null,s.default.createElement(l.FormattedMessage,{id:"error.generic.message",defaultMessage:"An error has occurred."}));return i}d.propTypes={type:r.default.string,message:r.default.string,service:r.default.string}},2545:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=o(a(1)),s=o(a(3)),l=a(766);function o(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.url,a=e.messageId,r=e.defaultMessage;return s.default.createElement("a",{href:t,rel:"noopener noreferrer",target:"_blank"},s.default.createElement(l.FormattedMessage,{id:a,defaultMessage:r}))}n.propTypes={url:r.default.string.isRequired,messageId:r.default.string.isRequired,defaultMessage:r.default.string.isRequired},n.defaultProps={url:"",messageId:"",defaultMessage:""}}}]);
//# sourceMappingURL=13.15c71afc73ab785aa02b.js.map